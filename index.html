<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRT Korrektur-Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>SRT Korrektur-Tool</h1>
            <p>√úberpr√ºfe und korrigiere Untertitel mit KI-Unterst√ºtzung</p>
        </header>

        <main>
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-box" id="video-upload">
                    <input type="file" id="video-input" accept="video/*" hidden>
                    <label for="video-input" class="upload-label">
                        <span class="icon">üé•</span>
                        <span class="text">Video hochladen</span>
                        <span class="hint">(optional - zur Vorschau)</span>
                    </label>
                    <span class="file-name" id="video-name"></span>
                </div>

                <div class="upload-box" id="srt-upload">
                    <input type="file" id="srt-input" accept=".srt" hidden>
                    <label for="srt-input" class="upload-label">
                        <span class="icon">üìù</span>
                        <span class="text">SRT-Datei hochladen</span>
                        <span class="hint">(erforderlich)</span>
                    </label>
                    <span class="file-name" id="srt-name"></span>
                </div>
            </section>

            <!-- API Selection Section -->
            <section class="api-section">
                <div class="api-toggle">
                    <span class="api-toggle-label">Pr√ºfmethode:</span>
                    <div class="toggle-buttons">
                        <button class="toggle-btn active" data-api="languagetool">
                            üÜì LanguageTool (kostenlos)
                        </button>
                        <button class="toggle-btn" data-api="claude">
                            ü§ñ Claude AI (bessere Qualit√§t)
                        </button>
                    </div>
                </div>

                <div class="api-key-section" id="claude-api-section" style="display: none;">
                    <div class="api-input-group">
                        <label for="claude-api-key">Claude API-Key:</label>
                        <input type="password" id="claude-api-key" placeholder="sk-ant-...">
                        <button id="toggle-api-key" class="btn-icon" title="API-Key anzeigen/verbergen">üëÅÔ∏è</button>
                    </div>
                    <p class="api-hint">
                        Der API-Key wird lokal in deinem Browser gespeichert.
                        <a href="https://console.anthropic.com/settings/keys" target="_blank">API-Key erstellen</a>
                    </p>
                </div>

                <div class="api-info" id="languagetool-info">
                    <p>‚ú® Kostenlose Rechtschreibpr√ºfung powered by <a href="https://languagetool.org" target="_blank">LanguageTool</a></p>
                </div>

                <div class="api-info" id="claude-info" style="display: none;">
                    <p>ü§ñ Intelligente Korrektur mit Claude AI - versteht Kontext und Bedeutung besser</p>
                </div>
            </section>

            <!-- Video Preview -->
            <section class="video-section" id="video-section" style="display: none;">
                <div class="video-container">
                    <video id="video-player" controls>
                        Ihr Browser unterst√ºtzt kein Video-Tag.
                    </video>
                    <div class="subtitle-overlay" id="subtitle-overlay"></div>
                </div>
            </section>

            <!-- Correction Controls -->
            <section class="controls-section">
                <button id="check-btn" class="btn btn-primary" disabled>
                    <span class="btn-icon">üîç</span>
                    Rechtschreibung pr√ºfen
                </button>
                <div class="progress-container" id="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text">0%</span>
                </div>
            </section>

            <!-- Subtitles Editor -->
            <section class="editor-section" id="editor-section" style="display: none;">
                <div class="editor-header">
                    <h2>Untertitel-Editor</h2>
                    <div class="editor-controls">
                        <button id="accept-all-btn" class="btn btn-success">
                            ‚úì Alle Korrekturen √ºbernehmen
                        </button>
                        <button id="reject-all-btn" class="btn btn-danger">
                            ‚úó Alle Korrekturen ablehnen
                        </button>
                    </div>
                </div>

                <div class="filter-controls">
                    <label>
                        <input type="checkbox" id="filter-corrections" checked>
                        Nur Eintr√§ge mit Korrekturen anzeigen
                    </label>
                    <span class="stats" id="correction-stats"></span>
                </div>

                <div class="subtitles-list" id="subtitles-list">
                    <!-- Subtitles will be inserted here -->
                </div>
            </section>

            <!-- Export Section -->
            <section class="export-section" id="export-section" style="display: none;">
                <button id="export-btn" class="btn btn-primary">
                    <span class="btn-icon">üíæ</span>
                    Korrigierte SRT exportieren
                </button>
                <button id="export-original-btn" class="btn btn-secondary">
                    <span class="btn-icon">üìÑ</span>
                    Original exportieren
                </button>
            </section>
        </main>

        <footer>
            <p>SRT Korrektur-Tool &copy; 2024</p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script src="app.js"></script>
</body>
</html>
